

<div class="container mt-4">
  <h2 class="mb-4">üìö Danh s√°ch s√°ch</h2>

  <div id="book-list" class="row">
    <p>ƒêang t·∫£i d·ªØ li·ªáu...</p>
  </div>
</div>

<script>
  async function loadBooks() {
    try {
      const res = await fetch('/api/books');
      if (!res.ok) throw new Error('Kh√¥ng th·ªÉ t·∫£i s√°ch');
      const books = await res.json();

      const container = document.getElementById('book-list');
      if (!books || books.length === 0) {
        container.innerHTML = '<p>Kh√¥ng c√≥ s√°ch n√†o trong h·ªá th·ªëng.</p>';
        return;
      }

      container.innerHTML = books.map(book => `
        <div class="col-md-3 mb-4">
          <div class="card h-100 shadow-sm">
            <div class="card-body">
              <h5 class="card-title">${book.title}</h5>
              <p class="card-text">T√°c gi·∫£: ${book.author || 'Ch∆∞a r√µ'}</p>
              <p class="card-text"><small>Th·ªÉ lo·∫°i: ${book.category || 'Kh√¥ng c√≥'}</small></p>
              <a href="/books/${book._id}" class="btn btn-outline-primary btn-sm">Xem chi ti·∫øt</a>
              <a href="/api/books/${book._id}/download" class="btn btn-primary btn-sm mt-2">üì• T·∫£i xu·ªëng</a>
            </div>
          </div>
        </div>
      `).join('');
    } catch (err) {
      console.error(err);
      document.getElementById('book-list').innerHTML =
        '<p class="text-danger">L·ªói t·∫£i danh s√°ch s√°ch!</p>';
    }
  }

  document.addEventListener('DOMContentLoaded', loadBooks);
</script>


